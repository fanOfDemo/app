<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>yiming</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="yiming&apos;s blog | java | android | ios">
<meta property="og:type" content="website">
<meta property="og:title" content="yiming">
<meta property="og:url" content="http://fanofdemo.github.io/page/2/index.html">
<meta property="og:site_name" content="yiming">
<meta property="og:description" content="yiming&apos;s blog | java | android | ios">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="yiming">
<meta name="twitter:description" content="yiming&apos;s blog | java | android | ios">
  
    <link rel="alternative" href="/atom.xml" title="yiming" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="null" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">yiming</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>標籤</li>
						
						<li>友情链接</li>
						
						
						<li>關於</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/tags/随笔">随笔</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/fanOfDemo" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/wengyiming" title="weibo">weibo</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/android/" style="font-size: 20px;">android</a> <a href="/tags/fragment/" style="font-size: 10px;">fragment</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/XXApple/AndroidLibs">Android开源代码大全</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.colorfulcat.xyz/?from=androidcat">大花猫</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://androidcat.com/">android素材书签</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://dev2patrick.com/">patrick</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://aimeow.com/">aimeow</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我是谁，我从哪里来，我到哪里去？我就是我，是颜色不一样的吃货…</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">yiming</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="null" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">yiming</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tags/随笔">随笔</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/fanOfDemo" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/wengyiming" title="weibo">weibo</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-换了个公司，终于从劳碌的工作中解脱出来，于是一开心写了个app" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/17/换了个公司，终于从劳碌的工作中解脱出来，于是一开心写了个app/" class="article-date">
  	<time datetime="2015-11-17T15:54:48.000Z" itemprop="datePublished">11月 17 2015</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/17/换了个公司，终于从劳碌的工作中解脱出来，于是一开心写了个app/">换了个公司，终于从劳碌的工作中解脱出来，于是一开心写了个app</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>app的名字想了半天也不知道叫啥，于是随大流就叫简悦吧<br>  [简悦]  (<a href="https://github.com/fanOfDemo/jianyue" target="_blank" rel="external">https://github.com/fanOfDemo/jianyue</a>)</p>
<p>数据使用的是聚合数据的免费API，之所以选择聚合是因为聚合最近有大量的API正在免费，方便后期扩展功能吧</p>
<p>框架及基础功能完善后大概会提交了我们的装逼协会<a href="https://github.com/XXApple" target="_blank" rel="external">XXApple</a>中</p>
<p>框架方面主要使用的都是比较流行但国内企业又尝试不多的框架</p>
<p><a href="https://github.com/ReactiveX/RxJava" target="_blank" rel="external">rxjava</a><br><a href="https://github.com/square/retrofit" target="_blank" rel="external">retrofit2.0</a><br><a href="https://github.com/square/okhttp" target="_blank" rel="external">okhttp</a><br><a href="http://developer.android.com/" target="_blank" rel="external">design</a><br><a href="https://github.com/bumptech/glide" target="_blank" rel="external">glide</a><br><a href="https://github.com/square/leakcanary" target="_blank" rel="external">leakcanary</a></p>
<p>今天只是记录一下，最近可怜的初尝逃离北上广的滋味，年纪轻轻就吃到了苦头也不知是好是坏，生活残酷，大家加油吧</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-比swift的playgroundg更加强大的android代码即使预览功能" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/27/比swift的playgroundg更加强大的android代码即使预览功能/" class="article-date">
  	<time datetime="2015-10-27T04:53:37.000Z" itemprop="datePublished">10月 27 2015</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/27/比swift的playgroundg更加强大的android代码即使预览功能/">比swift的playground更加强大的android代码即使预览功能</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>JRebel for Android android studio插件 </p>
<p>代码修改时，跳过编译安装和运行，立刻看到代码改变后的效果</p>
<p>JRebel for Android可以跳过编译安装运行等步骤， 直接挑出你的app中已改变的代码或资源文件，不用改变app的任何状态立刻看出效果</p>
<p>Skip build, install and run<br>JRebel for Android picks up changes to your application and skips the build, install and run steps. Make code or resource file changes and see the effect immediately. All this without changing the state of the application.</p>
<p>Tweak app UI in real-time<br>Modify resources in real-time on one device or more. Make sure that your app looks and feels perfect. Changing project code is immediately reflected on the device.</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-现在的大学学习小组在学啥？" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/13/现在的大学学习小组在学啥？/" class="article-date">
  	<time datetime="2015-10-13T03:57:16.000Z" itemprop="datePublished">10月 13 2015</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/13/现在的大学学习小组在学啥？/">现在的大学学习小组在学啥？</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>大学老师组织的计算机学习小组的任务————刷题<br><a href="http://acm.zju.edu.cn/" target="_blank" rel="external">http://acm.zju.edu.cn/</a></p>
<p><a href="http://acm.hdu.edu.cn/" target="_blank" rel="external">http://acm.hdu.edu.cn/</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-内存泄露引发的血案" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/11/内存泄露引发的血案/" class="article-date">
  	<time datetime="2015-10-11T08:10:15.000Z" itemprop="datePublished">10月 11 2015</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/11/内存泄露引发的血案/">使用弱引用解决内存泄露问题</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>下面是使用弱引用解决一个内存泄露的办法，过去这类自定义管理activity的代码在百度搜索结果中盛行，不知大部分这种用法都会导致内存泄露，导致android手机卡顿，产生不好的用户体验，</p>
<pre><code>public <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">MultiDexApplication</span> {</span>

    <span class="keyword">private</span> <span class="type">LinkedList</span>&lt;<span class="type">Activity</span>&gt; activityListTmp = <span class="keyword">new</span> <span class="type">LinkedList</span>&lt;&gt;();
    <span class="keyword">private</span> <span class="type">LinkedList</span>&lt;<span class="type">WeakReference</span>&lt;<span class="type">Activity</span>&gt;&gt; activityList = <span class="keyword">new</span> <span class="type">LinkedList</span>&lt;&gt;();
    <span class="keyword">private</span> static <span class="type">MyApplication</span> instance;
   <span class="comment">// 单例</span>
    public static <span class="type">MyApplication</span> getInstance() {
        <span class="keyword">if</span> (<span class="literal">null</span> == instance) {
           instance = <span class="keyword">new</span> <span class="type">MyApplication</span>();
        }
        <span class="keyword">return</span> instance;
    }
    ...
}
</code></pre><p>使用大名鼎鼎的squareup公司推出的框架检测内存溢出问题<br>gradle引用：<br>    //内存泄露<br>    debugCompile ‘com.squareup.leakcanary:leakcanary-android:1.3.1’<br>    releaseCompile ‘com.squareup.leakcanary:leakcanary-android-no-op:1.3.1’</p>
<p>  在application中注册</p>
<pre><code> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">MultiDexApplication</span> </span>{
    <span class="keyword">private</span> <span class="keyword">static</span> App mInstance = <span class="keyword">null</span>;
<span class="comment">//  private List&lt;Activity&gt; activityList = new LinkedList&lt;&gt;();</span>

    <span class="keyword">private</span> LinkedList&lt;WeakReference&lt;Activity&gt;&gt; activityList = <span class="keyword">new</span> LinkedList&lt;&gt;();
    <span class="keyword">private</span> RefWatcher refWatcher;

    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">()</span> </span>{
        <span class="keyword">super</span>.onCreate();
        mInstance = <span class="keyword">this</span>;
        refWatcher = LeakCanary.install(<span class="keyword">this</span>);
    }

     <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> RefWatcher <span class="title">getRefWatcher</span><span class="params">()</span> </span>{
        <span class="keyword">return</span> App.getInstance().refWatcher;
    }

    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> App <span class="title">getInstance</span><span class="params">()</span> </span>{
        <span class="keyword">return</span> mInstance;
    }
    ...
}
</code></pre><p>  在BaseActivity中的onDestroy中监听没个activity销毁时是否有内存泄露</p>
<pre><code>@Override
protected void onDestroy<span class="params">()</span> {
    ButterKnife.reset<span class="params">(getActivity<span class="params">()</span>)</span>;
    super.onDestroy<span class="params">()</span>;
    RefWatcher refWatcher = App.getRefWatcher<span class="params">()</span>;
    refWatcher.watch<span class="params">(getActivity<span class="params">()</span>)</span>;
}
</code></pre><p>具体原理及使用文档请移步<a href="https://github.com/square/leakcanary" target="_blank" rel="external">leakcanary</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-持有空的上下文错误" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/09/10/持有空的上下文错误/" class="article-date">
  	<time datetime="2015-09-10T07:43:44.000Z" itemprop="datePublished">9月 10 2015</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/10/持有空的上下文错误/">持有空的上下文错误</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>BadTokenException:Unable to add window …… is your activity running?</p>
<p>注意在你创建dialog之后，此时dialog持有的activity上下文如果已经被finish了就会报错，所以，dialog中的操作必须在activity结束之前可用</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 yiming
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>